<div style="margin-top: 20px; display: flex;">

    <!-- Map Controls -->
    <div class="map-controls">

        <!-- Control List -->
        <mat-list>

            <!-- Zoom Level -->
            <div mat-subheader>Zoom Level</div>
            <mat-list-item id="item-1">
                <mat-icon matListItemIcon (click)="resetMap()" matTooltip="Reset map" matTooltipPosition="above">search</mat-icon>
                <div matListItemTitle>
                    <span style="display: inline-block; width: 50%">{{ currentZoomLevel - zoom.min + 1 }}</span>
                    <span style="display: inline-block; width: 50%; text-align: right;" *ngIf="opacityInput.value === 0">Opacity {{ currentOpacityLevel | percent }}</span>
                </div>
                <mat-progress-bar mode="determinate" [value]="zoomProgress"></mat-progress-bar>
            </mat-list-item>

            <mat-divider></mat-divider>

            <!-- Lat / Long -->
            <div mat-subheader>Latitude / Longitude</div>
            <mat-list-item>
                <mat-icon matListItemIcon (click)="resetMap()" matTooltip="Reset map" matTooltipPosition="above">my_location</mat-icon>
                <div matListItemTitle>
                    <ng-container *ngIf="currentCentre; else loading">
                        {{ currentCentre.lat | number: '1.0-4' }}, {{ currentCentre.lng | number: '1.0-4' }}
                    </ng-container>
                    <ng-template #loading>
                        <mat-spinner diameter="30"></mat-spinner>
                    </ng-template>
                </div>
            </mat-list-item>

            <mat-divider></mat-divider>

            <!-- Opacity Override -->
            <div mat-subheader>Opacity Override<span *ngIf="opacityInput.value"> (Active)</span></div>
            <mat-list-item>
                <mat-icon matListItemIcon>opacity</mat-icon>
                <div matListItemTitle>
                    <mat-slider [min]="0" [max]="100" step="1">
                        <input matInput matSliderThumb [formControl]="opacityInput">
                    </mat-slider>
                    <span *ngIf="opacityInput.value" style="display: inline-block; width: 18%; text-align: right;">{{ opacityInput.value }}%</span>
                </div>
            </mat-list-item>

            <mat-divider></mat-divider>

        </mat-list>

    </div>

    <!-- Map -->
    <div #mapContainer class="map">
        <mat-spinner *ngIf="!data" diameter="100" color="primary" style="position: absolute; top: 250px; right: 500px; z-index: 1000;"></mat-spinner>
    </div>

</div>
